import windy/platforms/linux/x11/glx, windy/platforms/linux/x11/keysym, windy/platforms/linux/x11/x, windy/platforms/linux/x11/xevent, windy/platforms/linux/x11/xlib
import flatty/hexprint, pixie

# let buffer: seq[uint32] = @[
#       16.uint32, 16.uint32,
#       4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 338034905.uint32, 3657433343.uint32, 0.uint32, 184483840.uint32, 234881279.uint32, 3053453567.uint32, 3221225727.uint32, 1879048447.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 1224737023.uint32, 3305111807.uint32, 3875537151.uint32,0.uint32, 0.uint32, 2063597823.uint32, 1291845887.uint32, 0.uint32, 67109119.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 50266112.uint32, 3422552319.uint32, 0.uint32, 0.uint32, 3070230783.uint32, 2063597823.uint32, 2986344703.uint32, 771752191.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 3422552319.uint32, 0.uint32, 0.uint32, 3372220671.uint32, 1509949695.uint32, 704643327.uint32, 3355443455.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 0.uint32, 3422552319.uint32, 0.uint32, 134152192.uint32, 3187671295.uint32, 251658495.uint32, 0.uint32, 3439329535.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 3422552319.uint32, 0.uint32, 0.uint32, 2332033279.uint32, 1342177535.uint32, 167772415.uint32, 3338666239.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 0.uint32, 3422552319.uint32, 0.uint32, 0.uint32, 436207871.uint32, 3322085628.uint32, 3456106751.uint32, 1375731967.uint32, 4278255360.uint32, 4026597120.uint32, 3758161664.uint32, 3489726208.uint32, 3204513536.uint32, 2952855296.uint32, 2684419840.uint32, 2399207168.uint32, 2130771712.uint32, 1845559040.uint32, 1593900800.uint32, 1308688128.uint32, 1040252672.uint32, 755040000.uint32, 486604544.uint32, 234946304.uint32, 4278255360.uint32, 4043374336.uint32, 3774938880.uint32, 3506503424.uint32, 3221290752.uint32, 2952855296.uint32, 2667642624.uint32, 2399207168.uint32, 2130771712.uint32, 1862336256.uint32, 1627453957.uint32, 1359017481.uint32, 1073805064.uint32, 788591627.uint32, 503379721.uint32, 218169088.uint32, 4278255360.uint32, 4043374336.uint32, 3758161664.uint32, 3506503424.uint32, 3221290752.uint32, 2952855296.uint32, 2684419840.uint32, 2415984384.uint32, 2130771712.uint32, 1862336256.uint32, 1577123584.uint32, 1308688128.uint32, 1040252672.uint32, 755040000.uint32, 486604544.uint32, 218169088.uint32, 4278190335.uint32, 4026532095.uint32, 3758096639.uint32, 3489661183.uint32, 3221225727.uint32, 2952790271.uint32, 2667577599.uint32, 2415919359.uint32, 2130706687.uint32, 1862271231.uint32, 1593835775.uint32, 1325400319.uint32, 1056964863.uint32, 771752191.uint32, 520093951.uint32, 234881279.uint32, 4278190335.uint32, 4026532095.uint32, 3758096639.uint32, 3489661183.uint32, 3221225727.uint32, 2952790271.uint32, 2667577599.uint32, 2415919359.uint32, 2130706687.uint32, 1862271231.uint32, 1593835775.uint32, 1325400319.uint32, 1056964863.uint32, 771752191.uint32, 503316735.uint32, 234881279.uint32, 4278190335.uint32, 4026532095.uint32, 3758096639.uint32, 3489661183.uint32, 3221225727.uint32, 2952790271.uint32, 2684354815.uint32, 2399142143.uint32, 2130706687.uint32, 1862271231.uint32, 1593835775.uint32, 1325400319.uint32, 1040187647.uint32, 771752191.uint32, 520093951.uint32, 234881279.uint32, 4294901760.uint32, 4043243520.uint32, 3774808064.uint32, 3506372608.uint32, 3221159936.uint32, 2952724480.uint32, 2684289024.uint32, 2399076352.uint32, 2147418112.uint32, 1862205440.uint32, 1593769984.uint32, 1308557312.uint32, 1040121856.uint32, 771686400.uint32, 503250944.uint32, 234815488.uint32, 4294901760.uint32, 4060020736.uint32, 3758030848.uint32, 3506372608.uint32, 3221159936.uint32, 2952724480.uint32, 2684289024.uint32, 2415853568.uint32, 2130640896.uint32, 1862205440.uint32, 1593769984.uint32, 1308557312.uint32, 1040121856.uint32, 771686400.uint32, 503250944.uint32, 234815488.uint32, 4294901760.uint32, 4043243520.uint32, 3774808064.uint32, 3489595392.uint32, 3237937152.uint32, 2952724480.uint32, 2684289024.uint32, 2415853568.uint32, 2147418112.uint32, 1862205440.uint32, 1593769984.uint32, 1325334528.uint32, 1056899072.uint32, 788463616.uint32, 503250944.uint32, 234815488.uint32,
#       32.uint32, 32.uint32,
#       4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 268369920.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 1509949695.uint32, 3120562431.uint32, 4009754879.uint32, 4194304255.uint32, 3690987775.uint32, 2130706687.uint32, 83886335.uint32, 0.uint32, 50331903.uint32, 1694499071.uint32, 3170894079.uint32, 3992977663.uint32, 4211081471.uint32, 3657433343.uint32, 1879048447.uint32, 16777471.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 3087007999.uint32, 2281701631.uint32, 1191182591.uint32, 1040187647.uint32, 2030043391.uint32, 4127195391.uint32, 2566914303.uint32, 0.uint32, 16777471.uint32, 3254780159.uint32, 2181038335.uint32, 1191182591.uint32, 973078783.uint32, 2030043391.uint32,4177527039.uint32, 2130706687.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 2214592767.uint32, 4093640959.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 2298478847.uint32, 3909091583.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 2214592767.uint32, 3607101695.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 1946157311.uint32, 4093640959.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 0.uint32, 0.uint32, 536871167.uint32, 1191182591.uint32, 2281701631.uint32,3019899135.uint32, 637534463.uint32, 0.uint32, 0.uint32, 0.uint32, 100597760.uint32, 251592704.uint32, 33488896.uint32, 0.uint32, 3321889023.uint32, 2919235839.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 2550137087.uint32, 4278190335.uint32, 4278190335.uint32, 3405775103.uint32, 570425599.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 2046820607.uint32, 4043309311.uint32, 620757247.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 33488896.uint32, 0.uint32, 0.uint32, 218104063.uint32, 1291845887.uint32, 3841982719.uint32, 3388997887.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 1996488959.uint32, 4093640959.uint32, 1073742079.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 1761607935.uint32, 4278190335.uint32, 150995199.uint32, 0.uint32, 0.uint32, 67109119.uint32, 2550137087.uint32, 3909091583.uint32, 889192703.uint32, 0.uint32, 0.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 2181038335.uint32, 3925868799.uint32, 0.uint32, 0.uint32, 218104063.uint32, 3070230783.uint32, 3623878911.uint32, 570425599.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 805306623.uint32, 3288334591.uint32, 1795162367.uint32, 1040187647.uint32, 1023410431.uint32, 2231369983.uint32, 4211081471.uint32, 1694499071.uint32, 0.uint32, 369099007.uint32, 3456106751.uint32, 3825205503.uint32, 1174405375.uint32, 872415487.uint32, 872415487.uint32, 872415487.uint32, 872415487.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4293984270.uint32, 2046951677.uint32, 3422552319.uint32, 4110418175.uint32, 4177527039.uint32, 3405775103.uint32, 1409286399.uint32, 0.uint32, 0.uint32, 1409286399.uint32, 4278190335.uint32, 4278190335.uint32, 4278190335.uint32, 4278190335.uint32, 4278190335.uint32, 4278190335.uint32, 4278190335.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32,4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 4294901760.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32,0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 0.uint32, 4278255360.uint32, 4144037632.uint32, 4009819904.uint32, 3875602176.uint32, 3741384448.uint32, 3607166720.uint32, 3472948992.uint32, 3338731264.uint32, 3204513536.uint32, 3053518592.uint32, 2936078080.uint32, 2801860352.uint32, 2650865408.uint32, 2516647680.uint32, 2382429952.uint32, 2264989440.uint32, 2113994496.uint32, 1996553984.uint32, 1862336256.uint32, 1728118528.uint32, 1577123584.uint32, 1459683072.uint32, 1325465344.uint32, 1191247616.uint32, 1040252672.uint32, 922812160.uint32, 771817216.uint32, 637599488.uint32, 503381760.uint32, 385941248.uint32, 234946304.uint32, 100728576.uint32, 4278255360.uint32, 4144037632.uint32, 4009819904.uint32, 3875602176.uint32, 3724607232.uint32, 3607166720.uint32, 3472948992.uint32, 3338731264.uint32, 3204513536.uint32, 3070295808.uint32, 2936078080.uint32, 2801860352.uint32, 2667642624.uint32, 2516647680.uint32, 2399207168.uint32, 2264989440.uint32, 2130771712.uint32, 1996553984.uint32, 1845559040.uint32, 1728118528.uint32, 1593900800.uint32, 1459683072.uint32, 1308688128.uint32, 1191247616.uint32, 1057029888.uint32, 922812160.uint32, 788594432.uint32, 637599488.uint32, 503381760.uint32, 369164032.uint32, 234946304.uint32, 117505792.uint32, 4278255360.uint32, 4144037632.uint32, 4009819904.uint32, 3875602176.uint32, 3741384448.uint32, 3607166720.uint32, 3472948992.uint32, 3338731264.uint32, 3204513536.uint32, 3053518592.uint32, 2919300864.uint32, 2801860352.uint32, 2650865408.uint32, 2533424896.uint32, 2399207168.uint32, 2264989440.uint32, 2113994496.uint32, 1996553984.uint32, 1862336256.uint32, 1728118528.uint32,1593900800.uint32, 1459683072.uint32, 1325465344.uint32, 1191247616.uint32, 1040252672.uint32, 906034944.uint32, 771817216.uint32, 654376704.uint32, 503381760.uint32, 369164032.uint32, 234946304.uint32, 117505792.uint32, 4278255360.uint32, 4144037632.uint32, 4009819904.uint32, 3858824960.uint32, 3741384448.uint32, 3607166720.uint32, 3472948992.uint32, 3338731264.uint32, 3204513536.uint32, 3070295808.uint32, 2936078080.uint32, 2801860352.uint32, 2667642624.uint32, 2533424896.uint32, 2382429952.uint32, 2264989440.uint32, 2130771712.uint32, 1979776768.uint32, 1862336256.uint32, 1728118528.uint32, 1577123584.uint32, 1442905856.uint32, 1325465344.uint32, 1191247616.uint32, 1040252672.uint32, 922812160.uint32, 771817216.uint32, 637599488.uint32, 503381760.uint32, 369164032.uint32, 234946304.uint32, 100728576.uint32, 4278255360.uint32, 4144037632.uint32, 4009819904.uint32, 3875602176.uint32, 3741384448.uint32, 3607166720.uint32, 3472948992.uint32, 3338731264.uint32, 3204513536.uint32, 3070295808.uint32, 2919300864.uint32, 2801860352.uint32, 2667642624.uint32, 2533424896.uint32, 2399207168.uint32, 2264989440.uint32, 2113994496.uint32, 1996553984.uint32, 1862336256.uint32, 1728118528.uint32, 1593900800.uint32, 1442905856.uint32, 1342241795.uint32, 1174470400.uint32, 1057029888.uint32, 906034944.uint32, 788594432.uint32, 654376704.uint32, 503381760.uint32, 385941248.uint32, 251723520.uint32, 100728576.uint32, 4278190335.uint32, 4160749823.uint32, 4026532095.uint32, 3892314367.uint32, 3741319423.uint32, 3623878911.uint32, 3472883967.uint32, 3338666239.uint32, 3221225727.uint32, 3070230783.uint32, 2952790271.uint32, 2818572543.uint32, 2667577599.uint32, 2533359871.uint32, 2399142143.uint32, 2264924415.uint32, 2147483903.uint32, 1996488959.uint32, 1862271231.uint32, 1728053503.uint32, 1593835775.uint32, 1459618047.uint32, 1325400319.uint32, 1191182591.uint32, 1056964863.uint32, 922747135.uint32, 788529407.uint32, 654311679.uint32, 520093951.uint32,385876223.uint32, 251658495.uint32, 117440767.uint32, 4278190335.uint32, 4160749823.uint32, 4026532095.uint32, 3892314367.uint32, 3741319423.uint32, 3623878911.uint32, 3489661183.uint32, 3355443455.uint32, 3221225727.uint32, 3087007999.uint32, 2936013055.uint32, 2801795327.uint32, 2667577599.uint32, 2533359871.uint32, 2399142143.uint32, 2281701631.uint32, 2130706687.uint32, 1996488959.uint32, 1862271231.uint32, 1728053503.uint32, 1593835775.uint32,1459618047.uint32, 1325400319.uint32, 1191182591.uint32, 1056964863.uint32, 922747135.uint32, 788529407.uint32, 654311679.uint32, 520093951.uint32, 385876223.uint32, 234881279.uint32, 100663551.uint32, 4278190335.uint32, 4160749823.uint32, 4026532095.uint32, 3892314367.uint32, 3758096639.uint32, 3623878911.uint32, 3489661183.uint32, 3355443455.uint32, 3221225727.uint32, 3087007999.uint32, 2936013055.uint32, 2801795327.uint32, 2667577599.uint32, 2550137087.uint32, 2415919359.uint32, 2264924415.uint32, 2130706687.uint32, 1996488959.uint32, 1862271231.uint32, 1728053503.uint32, 1593835775.uint32, 1459618047.uint32, 1325400319.uint32, 1191182591.uint32, 1056964863.uint32, 922747135.uint32, 788529407.uint32, 654311679.uint32, 503316735.uint32, 369099007.uint32, 251658495.uint32, 100663551.uint32, 4278190335.uint32, 4160749823.uint32, 4026532095.uint32, 3892314367.uint32, 3758096639.uint32, 3623878911.uint32, 3489661183.uint32, 3355443455.uint32, 3204448511.uint32, 3087007999.uint32, 2936013055.uint32, 2818572543.uint32, 2667577599.uint32, 2533359871.uint32, 2399142143.uint32, 2264924415.uint32, 2130706687.uint32, 1996488959.uint32, 1879048447.uint32, 1728053503.uint32, 1593835775.uint32, 1459618047.uint32, 1325400319.uint32, 1191182591.uint32, 1056964863.uint32, 922747135.uint32, 788529407.uint32, 654311679.uint32, 520093951.uint32, 385876223.uint32, 251658495.uint32, 117440767.uint32, 4278190335.uint32, 4160749823.uint32, 4026532095.uint32, 3892314367.uint32, 3758096639.uint32, 3623878911.uint32, 3489661183.uint32, 3355443455.uint32, 3221225727.uint32, 3087007999.uint32, 2952790271.uint32, 2818572543.uint32, 2667577599.uint32, 2533359871.uint32, 2399142143.uint32, 2264924415.uint32, 2147483903.uint32, 2013266175.uint32, 1862271231.uint32, 1744830719.uint32, 1610612991.uint32, 1476395263.uint32, 1342177535.uint32, 1191182591.uint32, 1056964863.uint32, 922747135.uint32, 788529407.uint32, 654311679.uint32, 520093951.uint32, 385876223.uint32, 251658495.uint32, 100663551.uint32, 4294901760.uint32, 4160684032.uint32, 4026466304.uint32, 3909025792.uint32, 3774808064.uint32, 3623813120.uint32, 3489595392.uint32, 3355377664.uint32, 3237937152.uint32, 3103719424.uint32, 2952724480.uint32, 2818506752.uint32, 2684289024.uint32, 2550071296.uint32, 2415853568.uint32, 2281635840.uint32, 2147418112.uint32, 2013200384.uint32, 1878982656.uint32, 1744764928.uint32, 1593769984.uint32, 1476329472.uint32,1325334528.uint32, 1207894016.uint32, 1056899072.uint32, 939458560.uint32, 788463616.uint32, 654245888.uint32, 520028160.uint32, 385810432.uint32, 251592704.uint32, 117374976.uint32, 4294901760.uint32, 4177461248.uint32, 4043243520.uint32, 3909025792.uint32, 3774808064.uint32, 3640590336.uint32, 3506372608.uint32, 3355377664.uint32, 3221159936.uint32, 3086942208.uint32, 2952724480.uint32, 2818506752.uint32, 2701066240.uint32, 2550071296.uint32, 2415853568.uint32, 2281635840.uint32, 2147418112.uint32, 2013200384.uint32, 1878982656.uint32, 1727987712.uint32, 1610547200.uint32, 1476329472.uint32, 1325334528.uint32, 1191116800.uint32, 1073676288.uint32, 922681344.uint32, 788463616.uint32, 654245888.uint32, 520028160.uint32, 385810432.uint32, 251592704.uint32, 100597760.uint32, 4294901760.uint32, 4177461248.uint32, 4043243520.uint32, 3909025792.uint32, 3774808064.uint32, 3640590336.uint32, 3489595392.uint32, 3372154880.uint32, 3237937152.uint32, 3103719424.uint32, 2952724480.uint32, 2818506752.uint32, 2700935170.uint32, 2550071296.uint32, 2415853568.uint32, 2281635840.uint32, 2147418112.uint32, 2013200384.uint32, 1878982656.uint32, 1744764928.uint32, 1610547200.uint32, 1459552256.uint32, 1342111744.uint32, 1191116800.uint32, 1056899072.uint32, 922681344.uint32, 788463616.uint32, 671023104.uint32, 520028160.uint32, 385810432.uint32, 251592704.uint32, 100597760.uint32, 4294901760.uint32, 4177461248.uint32, 4043243520.uint32, 3909025792.uint32, 3774808064.uint32, 3640590336.uint32, 3489595392.uint32, 3372154880.uint32, 3237937152.uint32, 3086942208.uint32, 2969501696.uint32, 2818506752.uint32, 2684289024.uint32, 2550071296.uint32, 2432630784.uint32, 2281635840.uint32, 2147418112.uint32, 2013200384.uint32, 1862205440.uint32, 1744764928.uint32, 1610547200.uint32, 1476329472.uint32, 1342111744.uint32, 1191116800.uint32, 1056899072.uint32, 922681344.uint32, 788463616.uint32, 654245888.uint32, 520028160.uint32, 385810432.uint32, 251592704.uint32, 117374976.uint32, 4294901760.uint32, 4177461248.uint32, 4043243520.uint32, 3909025792.uint32, 3774808064.uint32, 3623813120.uint32, 3506372608.uint32, 3372154880.uint32, 3237937152.uint32, 3103719424.uint32, 2952724480.uint32, 2835283968.uint32, 2684289024.uint32, 2550071296.uint32, 2432630784.uint32, 2281635840.uint32, 2147418112.uint32, 2046492676.uint32, 1862205440.uint32, 1744764928.uint32, 1610547200.uint32, 1476329472.uint32, 1342111744.uint32,1207894016.uint32, 1056899072.uint32, 939458560.uint32, 788463616.uint32, 654245888.uint32, 536281096.uint32, 385810432.uint32, 251592704.uint32, 134152192.uint32,
# ]

# # for d in buffer[0 .. 3]:
# #   echo d

# var d = XOpenDisplay(nil)
# #var s = DefaultScreen(d)
# var net_wm_icon = XInternAtom(d, "_NET_WM_ICON", 0)
# var cardinal = XInternAtom(d, "CARDINAL", 0)

# let root = d.defaultRootWindow

# var w = XCreateWindow(
#   d,
#   root,
#   0, 0,
#   200, 200,
#   0,
#   CopyFromParent, #vi.depth.cuint,
#   InputOutput,
#   nil, #vi.visual,
#   0,
#   nil
# )

# var length = 2 + 16 * 16 + 2 + 32 * 32
# var p = cast[pointer](buffer[0].unsafeAddr)

# XChangeProperty(
#   d,
#   w,
#   net_wm_icon,
#   cardinal,
#   32,
#   pmReplace,
#   p,
#   length.cint
# )

# XMapWindow(d, w)
# while true:
#   echo "start"
#   var e: XEvent
#   XNextEvent(d, e.addr)
#   echo "here"

{.emit: """
  #include <stdlib.h>
  #include <X11/Xlib.h>
""".}

{.passL: "-lX11".}

proc main() =

  var bufferNim: seq[uint64] = @[
      #16.uint64, 16.uint64,
      #4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 338034905.uint64, 3657433343.uint64, 0.uint64, 184483840.uint64, 234881279.uint64, 3053453567.uint64, 3221225727.uint64, 1879048447.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 1224737023.uint64, 3305111807.uint64, 3875537151.uint64,0.uint64, 0.uint64, 2063597823.uint64, 1291845887.uint64, 0.uint64, 67109119.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 50266112.uint64, 3422552319.uint64, 0.uint64, 0.uint64, 3070230783.uint64, 2063597823.uint64, 2986344703.uint64, 771752191.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 3422552319.uint64, 0.uint64, 0.uint64, 3372220671.uint64, 1509949695.uint64, 704643327.uint64, 3355443455.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 0.uint64, 3422552319.uint64, 0.uint64, 134152192.uint64, 3187671295.uint64, 251658495.uint64, 0.uint64, 3439329535.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 3422552319.uint64, 0.uint64, 0.uint64, 2332033279.uint64, 1342177535.uint64, 167772415.uint64, 3338666239.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 0.uint64, 3422552319.uint64, 0.uint64, 0.uint64, 436207871.uint64, 3322085628.uint64, 3456106751.uint64, 1375731967.uint64, 4278255360.uint64, 4026597120.uint64, 3758161664.uint64, 3489726208.uint64, 3204513536.uint64, 2952855296.uint64, 2684419840.uint64, 2399207168.uint64, 2130771712.uint64, 1845559040.uint64, 1593900800.uint64, 1308688128.uint64, 1040252672.uint64, 755040000.uint64, 486604544.uint64, 234946304.uint64, 4278255360.uint64, 4043374336.uint64, 3774938880.uint64, 3506503424.uint64, 3221290752.uint64, 2952855296.uint64, 2667642624.uint64, 2399207168.uint64, 2130771712.uint64, 1862336256.uint64, 1627453957.uint64, 1359017481.uint64, 1073805064.uint64, 788591627.uint64, 503379721.uint64, 218169088.uint64, 4278255360.uint64, 4043374336.uint64, 3758161664.uint64, 3506503424.uint64, 3221290752.uint64, 2952855296.uint64, 2684419840.uint64, 2415984384.uint64, 2130771712.uint64, 1862336256.uint64, 1577123584.uint64, 1308688128.uint64, 1040252672.uint64, 755040000.uint64, 486604544.uint64, 218169088.uint64, 4278190335.uint64, 4026532095.uint64, 3758096639.uint64, 3489661183.uint64, 3221225727.uint64, 2952790271.uint64, 2667577599.uint64, 2415919359.uint64, 2130706687.uint64, 1862271231.uint64, 1593835775.uint64, 1325400319.uint64, 1056964863.uint64, 771752191.uint64, 520093951.uint64, 234881279.uint64, 4278190335.uint64, 4026532095.uint64, 3758096639.uint64, 3489661183.uint64, 3221225727.uint64, 2952790271.uint64, 2667577599.uint64, 2415919359.uint64, 2130706687.uint64, 1862271231.uint64, 1593835775.uint64, 1325400319.uint64, 1056964863.uint64, 771752191.uint64, 503316735.uint64, 234881279.uint64, 4278190335.uint64, 4026532095.uint64, 3758096639.uint64, 3489661183.uint64, 3221225727.uint64, 2952790271.uint64, 2684354815.uint64, 2399142143.uint64, 2130706687.uint64, 1862271231.uint64, 1593835775.uint64, 1325400319.uint64, 1040187647.uint64, 771752191.uint64, 520093951.uint64, 234881279.uint64, 4294901760.uint64, 4043243520.uint64, 3774808064.uint64, 3506372608.uint64, 3221159936.uint64, 2952724480.uint64, 2684289024.uint64, 2399076352.uint64, 2147418112.uint64, 1862205440.uint64, 1593769984.uint64, 1308557312.uint64, 1040121856.uint64, 771686400.uint64, 503250944.uint64, 234815488.uint64, 4294901760.uint64, 4060020736.uint64, 3758030848.uint64, 3506372608.uint64, 3221159936.uint64, 2952724480.uint64, 2684289024.uint64, 2415853568.uint64, 2130640896.uint64, 1862205440.uint64, 1593769984.uint64, 1308557312.uint64, 1040121856.uint64, 771686400.uint64, 503250944.uint64, 234815488.uint64, 4294901760.uint64, 4043243520.uint64, 3774808064.uint64, 3489595392.uint64, 3237937152.uint64, 2952724480.uint64, 2684289024.uint64, 2415853568.uint64, 2147418112.uint64, 1862205440.uint64, 1593769984.uint64, 1325334528.uint64, 1056899072.uint64, 788463616.uint64, 503250944.uint64, 234815488.uint64,
      #32.uint64, 32.uint64,
      #4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 268369920.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 1509949695.uint64, 3120562431.uint64, 4009754879.uint64, 4194304255.uint64, 3690987775.uint64, 2130706687.uint64, 83886335.uint64, 0.uint64, 50331903.uint64, 1694499071.uint64, 3170894079.uint64, 3992977663.uint64, 4211081471.uint64, 3657433343.uint64, 1879048447.uint64, 16777471.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 3087007999.uint64, 2281701631.uint64, 1191182591.uint64, 1040187647.uint64, 2030043391.uint64, 4127195391.uint64, 2566914303.uint64, 0.uint64, 16777471.uint64, 3254780159.uint64, 2181038335.uint64, 1191182591.uint64, 973078783.uint64, 2030043391.uint64,4177527039.uint64, 2130706687.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 2214592767.uint64, 4093640959.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 2298478847.uint64, 3909091583.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 2214592767.uint64, 3607101695.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 1946157311.uint64, 4093640959.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 0.uint64, 0.uint64, 536871167.uint64, 1191182591.uint64, 2281701631.uint64,3019899135.uint64, 637534463.uint64, 0.uint64, 0.uint64, 0.uint64, 100597760.uint64, 251592704.uint64, 33488896.uint64, 0.uint64, 3321889023.uint64, 2919235839.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 2550137087.uint64, 4278190335.uint64, 4278190335.uint64, 3405775103.uint64, 570425599.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 2046820607.uint64, 4043309311.uint64, 620757247.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 33488896.uint64, 0.uint64, 0.uint64, 218104063.uint64, 1291845887.uint64, 3841982719.uint64, 3388997887.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 1996488959.uint64, 4093640959.uint64, 1073742079.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 1761607935.uint64, 4278190335.uint64, 150995199.uint64, 0.uint64, 0.uint64, 67109119.uint64, 2550137087.uint64, 3909091583.uint64, 889192703.uint64, 0.uint64, 0.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 2181038335.uint64, 3925868799.uint64, 0.uint64, 0.uint64, 218104063.uint64, 3070230783.uint64, 3623878911.uint64, 570425599.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 805306623.uint64, 3288334591.uint64, 1795162367.uint64, 1040187647.uint64, 1023410431.uint64, 2231369983.uint64, 4211081471.uint64, 1694499071.uint64, 0.uint64, 369099007.uint64, 3456106751.uint64, 3825205503.uint64, 1174405375.uint64, 872415487.uint64, 872415487.uint64, 872415487.uint64, 872415487.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4293984270.uint64, 2046951677.uint64, 3422552319.uint64, 4110418175.uint64, 4177527039.uint64, 3405775103.uint64, 1409286399.uint64, 0.uint64, 0.uint64, 1409286399.uint64, 4278190335.uint64, 4278190335.uint64, 4278190335.uint64, 4278190335.uint64, 4278190335.uint64, 4278190335.uint64, 4278190335.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64,4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 4294901760.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64,0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 0.uint64, 4278255360.uint64, 4144037632.uint64, 4009819904.uint64, 3875602176.uint64, 3741384448.uint64, 3607166720.uint64, 3472948992.uint64, 3338731264.uint64, 3204513536.uint64, 3053518592.uint64, 2936078080.uint64, 2801860352.uint64, 2650865408.uint64, 2516647680.uint64, 2382429952.uint64, 2264989440.uint64, 2113994496.uint64, 1996553984.uint64, 1862336256.uint64, 1728118528.uint64, 1577123584.uint64, 1459683072.uint64, 1325465344.uint64, 1191247616.uint64, 1040252672.uint64, 922812160.uint64, 771817216.uint64, 637599488.uint64, 503381760.uint64, 385941248.uint64, 234946304.uint64, 100728576.uint64, 4278255360.uint64, 4144037632.uint64, 4009819904.uint64, 3875602176.uint64, 3724607232.uint64, 3607166720.uint64, 3472948992.uint64, 3338731264.uint64, 3204513536.uint64, 3070295808.uint64, 2936078080.uint64, 2801860352.uint64, 2667642624.uint64, 2516647680.uint64, 2399207168.uint64, 2264989440.uint64, 2130771712.uint64, 1996553984.uint64, 1845559040.uint64, 1728118528.uint64, 1593900800.uint64, 1459683072.uint64, 1308688128.uint64, 1191247616.uint64, 1057029888.uint64, 922812160.uint64, 788594432.uint64, 637599488.uint64, 503381760.uint64, 369164032.uint64, 234946304.uint64, 117505792.uint64, 4278255360.uint64, 4144037632.uint64, 4009819904.uint64, 3875602176.uint64, 3741384448.uint64, 3607166720.uint64, 3472948992.uint64, 3338731264.uint64, 3204513536.uint64, 3053518592.uint64, 2919300864.uint64, 2801860352.uint64, 2650865408.uint64, 2533424896.uint64, 2399207168.uint64, 2264989440.uint64, 2113994496.uint64, 1996553984.uint64, 1862336256.uint64, 1728118528.uint64,1593900800.uint64, 1459683072.uint64, 1325465344.uint64, 1191247616.uint64, 1040252672.uint64, 906034944.uint64, 771817216.uint64, 654376704.uint64, 503381760.uint64, 369164032.uint64, 234946304.uint64, 117505792.uint64, 4278255360.uint64, 4144037632.uint64, 4009819904.uint64, 3858824960.uint64, 3741384448.uint64, 3607166720.uint64, 3472948992.uint64, 3338731264.uint64, 3204513536.uint64, 3070295808.uint64, 2936078080.uint64, 2801860352.uint64, 2667642624.uint64, 2533424896.uint64, 2382429952.uint64, 2264989440.uint64, 2130771712.uint64, 1979776768.uint64, 1862336256.uint64, 1728118528.uint64, 1577123584.uint64, 1442905856.uint64, 1325465344.uint64, 1191247616.uint64, 1040252672.uint64, 922812160.uint64, 771817216.uint64, 637599488.uint64, 503381760.uint64, 369164032.uint64, 234946304.uint64, 100728576.uint64, 4278255360.uint64, 4144037632.uint64, 4009819904.uint64, 3875602176.uint64, 3741384448.uint64, 3607166720.uint64, 3472948992.uint64, 3338731264.uint64, 3204513536.uint64, 3070295808.uint64, 2919300864.uint64, 2801860352.uint64, 2667642624.uint64, 2533424896.uint64, 2399207168.uint64, 2264989440.uint64, 2113994496.uint64, 1996553984.uint64, 1862336256.uint64, 1728118528.uint64, 1593900800.uint64, 1442905856.uint64, 1342241795.uint64, 1174470400.uint64, 1057029888.uint64, 906034944.uint64, 788594432.uint64, 654376704.uint64, 503381760.uint64, 385941248.uint64, 251723520.uint64, 100728576.uint64, 4278190335.uint64, 4160749823.uint64, 4026532095.uint64, 3892314367.uint64, 3741319423.uint64, 3623878911.uint64, 3472883967.uint64, 3338666239.uint64, 3221225727.uint64, 3070230783.uint64, 2952790271.uint64, 2818572543.uint64, 2667577599.uint64, 2533359871.uint64, 2399142143.uint64, 2264924415.uint64, 2147483903.uint64, 1996488959.uint64, 1862271231.uint64, 1728053503.uint64, 1593835775.uint64, 1459618047.uint64, 1325400319.uint64, 1191182591.uint64, 1056964863.uint64, 922747135.uint64, 788529407.uint64, 654311679.uint64, 520093951.uint64,385876223.uint64, 251658495.uint64, 117440767.uint64, 4278190335.uint64, 4160749823.uint64, 4026532095.uint64, 3892314367.uint64, 3741319423.uint64, 3623878911.uint64, 3489661183.uint64, 3355443455.uint64, 3221225727.uint64, 3087007999.uint64, 2936013055.uint64, 2801795327.uint64, 2667577599.uint64, 2533359871.uint64, 2399142143.uint64, 2281701631.uint64, 2130706687.uint64, 1996488959.uint64, 1862271231.uint64, 1728053503.uint64, 1593835775.uint64,1459618047.uint64, 1325400319.uint64, 1191182591.uint64, 1056964863.uint64, 922747135.uint64, 788529407.uint64, 654311679.uint64, 520093951.uint64, 385876223.uint64, 234881279.uint64, 100663551.uint64, 4278190335.uint64, 4160749823.uint64, 4026532095.uint64, 3892314367.uint64, 3758096639.uint64, 3623878911.uint64, 3489661183.uint64, 3355443455.uint64, 3221225727.uint64, 3087007999.uint64, 2936013055.uint64, 2801795327.uint64, 2667577599.uint64, 2550137087.uint64, 2415919359.uint64, 2264924415.uint64, 2130706687.uint64, 1996488959.uint64, 1862271231.uint64, 1728053503.uint64, 1593835775.uint64, 1459618047.uint64, 1325400319.uint64, 1191182591.uint64, 1056964863.uint64, 922747135.uint64, 788529407.uint64, 654311679.uint64, 503316735.uint64, 369099007.uint64, 251658495.uint64, 100663551.uint64, 4278190335.uint64, 4160749823.uint64, 4026532095.uint64, 3892314367.uint64, 3758096639.uint64, 3623878911.uint64, 3489661183.uint64, 3355443455.uint64, 3204448511.uint64, 3087007999.uint64, 2936013055.uint64, 2818572543.uint64, 2667577599.uint64, 2533359871.uint64, 2399142143.uint64, 2264924415.uint64, 2130706687.uint64, 1996488959.uint64, 1879048447.uint64, 1728053503.uint64, 1593835775.uint64, 1459618047.uint64, 1325400319.uint64, 1191182591.uint64, 1056964863.uint64, 922747135.uint64, 788529407.uint64, 654311679.uint64, 520093951.uint64, 385876223.uint64, 251658495.uint64, 117440767.uint64, 4278190335.uint64, 4160749823.uint64, 4026532095.uint64, 3892314367.uint64, 3758096639.uint64, 3623878911.uint64, 3489661183.uint64, 3355443455.uint64, 3221225727.uint64, 3087007999.uint64, 2952790271.uint64, 2818572543.uint64, 2667577599.uint64, 2533359871.uint64, 2399142143.uint64, 2264924415.uint64, 2147483903.uint64, 2013266175.uint64, 1862271231.uint64, 1744830719.uint64, 1610612991.uint64, 1476395263.uint64, 1342177535.uint64, 1191182591.uint64, 1056964863.uint64, 922747135.uint64, 788529407.uint64, 654311679.uint64, 520093951.uint64, 385876223.uint64, 251658495.uint64, 100663551.uint64, 4294901760.uint64, 4160684032.uint64, 4026466304.uint64, 3909025792.uint64, 3774808064.uint64, 3623813120.uint64, 3489595392.uint64, 3355377664.uint64, 3237937152.uint64, 3103719424.uint64, 2952724480.uint64, 2818506752.uint64, 2684289024.uint64, 2550071296.uint64, 2415853568.uint64, 2281635840.uint64, 2147418112.uint64, 2013200384.uint64, 1878982656.uint64, 1744764928.uint64, 1593769984.uint64, 1476329472.uint64,1325334528.uint64, 1207894016.uint64, 1056899072.uint64, 939458560.uint64, 788463616.uint64, 654245888.uint64, 520028160.uint64, 385810432.uint64, 251592704.uint64, 117374976.uint64, 4294901760.uint64, 4177461248.uint64, 4043243520.uint64, 3909025792.uint64, 3774808064.uint64, 3640590336.uint64, 3506372608.uint64, 3355377664.uint64, 3221159936.uint64, 3086942208.uint64, 2952724480.uint64, 2818506752.uint64, 2701066240.uint64, 2550071296.uint64, 2415853568.uint64, 2281635840.uint64, 2147418112.uint64, 2013200384.uint64, 1878982656.uint64, 1727987712.uint64, 1610547200.uint64, 1476329472.uint64, 1325334528.uint64, 1191116800.uint64, 1073676288.uint64, 922681344.uint64, 788463616.uint64, 654245888.uint64, 520028160.uint64, 385810432.uint64, 251592704.uint64, 100597760.uint64, 4294901760.uint64, 4177461248.uint64, 4043243520.uint64, 3909025792.uint64, 3774808064.uint64, 3640590336.uint64, 3489595392.uint64, 3372154880.uint64, 3237937152.uint64, 3103719424.uint64, 2952724480.uint64, 2818506752.uint64, 2700935170.uint64, 2550071296.uint64, 2415853568.uint64, 2281635840.uint64, 2147418112.uint64, 2013200384.uint64, 1878982656.uint64, 1744764928.uint64, 1610547200.uint64, 1459552256.uint64, 1342111744.uint64, 1191116800.uint64, 1056899072.uint64, 922681344.uint64, 788463616.uint64, 671023104.uint64, 520028160.uint64, 385810432.uint64, 251592704.uint64, 100597760.uint64, 4294901760.uint64, 4177461248.uint64, 4043243520.uint64, 3909025792.uint64, 3774808064.uint64, 3640590336.uint64, 3489595392.uint64, 3372154880.uint64, 3237937152.uint64, 3086942208.uint64, 2969501696.uint64, 2818506752.uint64, 2684289024.uint64, 2550071296.uint64, 2432630784.uint64, 2281635840.uint64, 2147418112.uint64, 2013200384.uint64, 1862205440.uint64, 1744764928.uint64, 1610547200.uint64, 1476329472.uint64, 1342111744.uint64, 1191116800.uint64, 1056899072.uint64, 922681344.uint64, 788463616.uint64, 654245888.uint64, 520028160.uint64, 385810432.uint64, 251592704.uint64, 117374976.uint64, 4294901760.uint64, 4177461248.uint64, 4043243520.uint64, 3909025792.uint64, 3774808064.uint64, 3623813120.uint64, 3506372608.uint64, 3372154880.uint64, 3237937152.uint64, 3103719424.uint64, 2952724480.uint64, 2835283968.uint64, 2684289024.uint64, 2550071296.uint64, 2432630784.uint64, 2281635840.uint64, 2147418112.uint64, 2046492676.uint64, 1862205440.uint64, 1744764928.uint64, 1610547200.uint64, 1476329472.uint64, 1342111744.uint64,1207894016.uint64, 1056899072.uint64, 939458560.uint64, 788463616.uint64, 654245888.uint64, 536281096.uint64, 385810432.uint64, 251592704.uint64, 134152192.uint64,
  ]
  # for d in buffer[0 .. 3]:
  #   echo d


  let
    icon = newImage(128, 128)
    path = newPath()
  path.circle(circle(vec2(64, 64), 60))
  icon.fillPath(path, color(0.3, 0.6, 0.9, 1))

  var icon64 = icon.minifyBy2(1)
  var icon32 = icon64.minifyBy2(1)
  var icon16 = icon32.minifyBy2(1)

  bufferNim.add icon16.width.uint64
  bufferNim.add icon16.height.uint64
  for i, pixel in icon16.data:
    bufferNim.add (cast[uint32](pixel)).uint64

  bufferNim.add icon32.width.uint64
  bufferNim.add icon32.height.uint64
  for i, pixel in icon32.data:
    bufferNim.add (cast[uint32](pixel)).uint64

  bufferNim.add icon64.width.uint64
  bufferNim.add icon64.height.uint64
  for i, pixel in icon64.data:
    bufferNim.add (cast[uint32](pixel)).uint64

  bufferNim.add icon.width.uint64
  bufferNim.add icon.height.uint64
  for i, pixel in icon.data:
    bufferNim.add (cast[uint32](pixel)).uint64


  var d = XOpenDisplay(nil)
  #var s = DefaultScreen(d)
  var net_wm_icon = XInternAtom(d, "_NET_WM_ICON", 0)
  var cardinal = XInternAtom(d, "CARDINAL", 0)

  let root = d.defaultRootWindow

  var w = XCreateWindow(
    d,
    root,
    0, 0,
    200, 200,
    0,
    CopyFromParent, #vi.depth.cuint,
    InputOutput,
    nil, #vi.visual,
    0,
    nil
  )

  var length = bufferNim.len #2 + 16 * 16 #+ 2 + 32 * 32
  var p = cast[pointer](bufferNim[0].unsafeAddr)




  {.emit: """

    printf("%i\n", sizeof(unsigned long));

    // unsigned long buffer[] = {
    //         16, 16,
    //         4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 338034905, 3657433343, 0, 184483840, 234881279, 3053453567, 3221225727, 1879048447, 0, 0, 0, 0, 0, 0, 0, 1224737023, 3305111807, 3875537151,0, 0, 2063597823, 1291845887, 0, 67109119, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 50266112, 3422552319, 0, 0, 3070230783, 2063597823, 2986344703, 771752191, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3422552319, 0, 0, 3372220671, 1509949695, 704643327, 3355443455, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 0, 3422552319, 0, 134152192, 3187671295, 251658495, 0, 3439329535, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3422552319, 0, 0, 2332033279, 1342177535, 167772415, 3338666239, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 0, 3422552319, 0, 0, 436207871, 3322085628, 3456106751, 1375731967, 4278255360, 4026597120, 3758161664, 3489726208, 3204513536, 2952855296, 2684419840, 2399207168, 2130771712, 1845559040, 1593900800, 1308688128, 1040252672, 755040000, 486604544, 234946304, 4278255360, 4043374336, 3774938880, 3506503424, 3221290752, 2952855296, 2667642624, 2399207168, 2130771712, 1862336256, 1627453957, 1359017481, 1073805064, 788591627, 503379721, 218169088, 4278255360, 4043374336, 3758161664, 3506503424, 3221290752, 2952855296, 2684419840, 2415984384, 2130771712, 1862336256, 1577123584, 1308688128, 1040252672, 755040000, 486604544, 218169088, 4278190335, 4026532095, 3758096639, 3489661183, 3221225727, 2952790271, 2667577599, 2415919359, 2130706687, 1862271231, 1593835775, 1325400319, 1056964863, 771752191, 520093951, 234881279, 4278190335, 4026532095, 3758096639, 3489661183, 3221225727, 2952790271, 2667577599, 2415919359, 2130706687, 1862271231, 1593835775, 1325400319, 1056964863, 771752191, 503316735, 234881279, 4278190335, 4026532095, 3758096639, 3489661183, 3221225727, 2952790271, 2684354815, 2399142143, 2130706687, 1862271231, 1593835775, 1325400319, 1040187647, 771752191, 520093951, 234881279, 4294901760, 4043243520, 3774808064, 3506372608, 3221159936, 2952724480, 2684289024, 2399076352, 2147418112, 1862205440, 1593769984, 1308557312, 1040121856, 771686400, 503250944, 234815488, 4294901760, 4060020736, 3758030848, 3506372608, 3221159936, 2952724480, 2684289024, 2415853568, 2130640896, 1862205440, 1593769984, 1308557312, 1040121856, 771686400, 503250944, 234815488, 4294901760, 4043243520, 3774808064, 3489595392, 3237937152, 2952724480, 2684289024, 2415853568, 2147418112, 1862205440, 1593769984, 1325334528, 1056899072, 788463616, 503250944, 234815488,
    //         32, 32,
    //         4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 0, 0, 0, 0, 0, 0, 0, 0, 0, 268369920, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 1509949695, 3120562431, 4009754879, 4194304255, 3690987775, 2130706687, 83886335, 0, 50331903, 1694499071, 3170894079, 3992977663, 4211081471, 3657433343, 1879048447, 16777471, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3087007999, 2281701631, 1191182591, 1040187647, 2030043391, 4127195391, 2566914303, 0, 16777471, 3254780159, 2181038335, 1191182591, 973078783, 2030043391,4177527039, 2130706687, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 0, 0, 0, 0, 0, 2214592767, 4093640959, 0, 0, 0, 0, 0, 0, 0, 2298478847, 3909091583, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2214592767, 3607101695, 0, 0, 0, 0, 0, 0, 0, 1946157311, 4093640959, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 0, 0, 536871167, 1191182591, 2281701631,3019899135, 637534463, 0, 0, 0, 100597760, 251592704, 33488896, 0, 3321889023, 2919235839, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2550137087, 4278190335, 4278190335, 3405775103, 570425599, 0, 0, 0, 0, 0, 0, 2046820607, 4043309311, 620757247, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 33488896, 0, 0, 218104063, 1291845887, 3841982719, 3388997887, 0, 0, 0, 0, 0, 1996488959, 4093640959, 1073742079, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1761607935, 4278190335, 150995199, 0, 0, 67109119, 2550137087, 3909091583, 889192703, 0, 0, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 0, 0, 0, 0, 0, 2181038335, 3925868799, 0, 0, 218104063, 3070230783, 3623878911, 570425599, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 805306623, 3288334591, 1795162367, 1040187647, 1023410431, 2231369983, 4211081471, 1694499071, 0, 369099007, 3456106751, 3825205503, 1174405375, 872415487, 872415487, 872415487, 872415487, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4293984270, 2046951677, 3422552319, 4110418175, 4177527039, 3405775103, 1409286399, 0, 0, 1409286399, 4278190335, 4278190335, 4278190335, 4278190335, 4278190335, 4278190335, 4278190335, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760,4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 4294901760, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4278255360, 4144037632, 4009819904, 3875602176, 3741384448, 3607166720, 3472948992, 3338731264, 3204513536, 3053518592, 2936078080, 2801860352, 2650865408, 2516647680, 2382429952, 2264989440, 2113994496, 1996553984, 1862336256, 1728118528, 1577123584, 1459683072, 1325465344, 1191247616, 1040252672, 922812160, 771817216, 637599488, 503381760, 385941248, 234946304, 100728576, 4278255360, 4144037632, 4009819904, 3875602176, 3724607232, 3607166720, 3472948992, 3338731264, 3204513536, 3070295808, 2936078080, 2801860352, 2667642624, 2516647680, 2399207168, 2264989440, 2130771712, 1996553984, 1845559040, 1728118528, 1593900800, 1459683072, 1308688128, 1191247616, 1057029888, 922812160, 788594432, 637599488, 503381760, 369164032, 234946304, 117505792, 4278255360, 4144037632, 4009819904, 3875602176, 3741384448, 3607166720, 3472948992, 3338731264, 3204513536, 3053518592, 2919300864, 2801860352, 2650865408, 2533424896, 2399207168, 2264989440, 2113994496, 1996553984, 1862336256, 1728118528,1593900800, 1459683072, 1325465344, 1191247616, 1040252672, 906034944, 771817216, 654376704, 503381760, 369164032, 234946304, 117505792, 4278255360, 4144037632, 4009819904, 3858824960, 3741384448, 3607166720, 3472948992, 3338731264, 3204513536, 3070295808, 2936078080, 2801860352, 2667642624, 2533424896, 2382429952, 2264989440, 2130771712, 1979776768, 1862336256, 1728118528, 1577123584, 1442905856, 1325465344, 1191247616, 1040252672, 922812160, 771817216, 637599488, 503381760, 369164032, 234946304, 100728576, 4278255360, 4144037632, 4009819904, 3875602176, 3741384448, 3607166720, 3472948992, 3338731264, 3204513536, 3070295808, 2919300864, 2801860352, 2667642624, 2533424896, 2399207168, 2264989440, 2113994496, 1996553984, 1862336256, 1728118528, 1593900800, 1442905856, 1342241795, 1174470400, 1057029888, 906034944, 788594432, 654376704, 503381760, 385941248, 251723520, 100728576, 4278190335, 4160749823, 4026532095, 3892314367, 3741319423, 3623878911, 3472883967, 3338666239, 3221225727, 3070230783, 2952790271, 2818572543, 2667577599, 2533359871, 2399142143, 2264924415, 2147483903, 1996488959, 1862271231, 1728053503, 1593835775, 1459618047, 1325400319, 1191182591, 1056964863, 922747135, 788529407, 654311679, 520093951,385876223, 251658495, 117440767, 4278190335, 4160749823, 4026532095, 3892314367, 3741319423, 3623878911, 3489661183, 3355443455, 3221225727, 3087007999, 2936013055, 2801795327, 2667577599, 2533359871, 2399142143, 2281701631, 2130706687, 1996488959, 1862271231, 1728053503, 1593835775,1459618047, 1325400319, 1191182591, 1056964863, 922747135, 788529407, 654311679, 520093951, 385876223, 234881279, 100663551, 4278190335, 4160749823, 4026532095, 3892314367, 3758096639, 3623878911, 3489661183, 3355443455, 3221225727, 3087007999, 2936013055, 2801795327, 2667577599, 2550137087, 2415919359, 2264924415, 2130706687, 1996488959, 1862271231, 1728053503, 1593835775, 1459618047, 1325400319, 1191182591, 1056964863, 922747135, 788529407, 654311679, 503316735, 369099007, 251658495, 100663551, 4278190335, 4160749823, 4026532095, 3892314367, 3758096639, 3623878911, 3489661183, 3355443455, 3204448511, 3087007999, 2936013055, 2818572543, 2667577599, 2533359871, 2399142143, 2264924415, 2130706687, 1996488959, 1879048447, 1728053503, 1593835775, 1459618047, 1325400319, 1191182591, 1056964863, 922747135, 788529407, 654311679, 520093951, 385876223, 251658495, 117440767, 4278190335, 4160749823, 4026532095, 3892314367, 3758096639, 3623878911, 3489661183, 3355443455, 3221225727, 3087007999, 2952790271, 2818572543, 2667577599, 2533359871, 2399142143, 2264924415, 2147483903, 2013266175, 1862271231, 1744830719, 1610612991, 1476395263, 1342177535, 1191182591, 1056964863, 922747135, 788529407, 654311679, 520093951, 385876223, 251658495, 100663551, 4294901760, 4160684032, 4026466304, 3909025792, 3774808064, 3623813120, 3489595392, 3355377664, 3237937152, 3103719424, 2952724480, 2818506752, 2684289024, 2550071296, 2415853568, 2281635840, 2147418112, 2013200384, 1878982656, 1744764928, 1593769984, 1476329472,1325334528, 1207894016, 1056899072, 939458560, 788463616, 654245888, 520028160, 385810432, 251592704, 117374976, 4294901760, 4177461248, 4043243520, 3909025792, 3774808064, 3640590336, 3506372608, 3355377664, 3221159936, 3086942208, 2952724480, 2818506752, 2701066240, 2550071296, 2415853568, 2281635840, 2147418112, 2013200384, 1878982656, 1727987712, 1610547200, 1476329472, 1325334528, 1191116800, 1073676288, 922681344, 788463616, 654245888, 520028160, 385810432, 251592704, 100597760, 4294901760, 4177461248, 4043243520, 3909025792, 3774808064, 3640590336, 3489595392, 3372154880, 3237937152, 3103719424, 2952724480, 2818506752, 2700935170, 2550071296, 2415853568, 2281635840, 2147418112, 2013200384, 1878982656, 1744764928, 1610547200, 1459552256, 1342111744, 1191116800, 1056899072, 922681344, 788463616, 671023104, 520028160, 385810432, 251592704, 100597760, 4294901760, 4177461248, 4043243520, 3909025792, 3774808064, 3640590336, 3489595392, 3372154880, 3237937152, 3086942208, 2969501696, 2818506752, 2684289024, 2550071296, 2432630784, 2281635840, 2147418112, 2013200384, 1862205440, 1744764928, 1610547200, 1476329472, 1342111744, 1191116800, 1056899072, 922681344, 788463616, 654245888, 520028160, 385810432, 251592704, 117374976, 4294901760, 4177461248, 4043243520, 3909025792, 3774808064, 3623813120, 3506372608, 3372154880, 3237937152, 3103719424, 2952724480, 2835283968, 2684289024, 2550071296, 2432630784, 2281635840, 2147418112, 2046492676, 1862205440, 1744764928, 1610547200, 1476329472, 1342111744,1207894016, 1056899072, 939458560, 788463616, 654245888, 536281096, 385810432, 251592704, 134152192,
    // };
    // p = buffer;
    //Display *d = XOpenDisplay(0);
    // int s = DefaultScreen(d);
    // Atom net_wm_icon = XInternAtom(d, "_NET_WM_ICON", False);
    // Atom cardinal = XInternAtom(d, "CARDINAL", False);
    // Window w;
    // XEvent e;
    // w = XCreateWindow(
    //     d,
    //     RootWindow(d, s),
    //     0, 0,
    //     200, 200,
    //     0,
    //     CopyFromParent,
    //     InputOutput,
    //     CopyFromParent,
    //     0,
    //     0);
    //int length = 2 + 16 * 16 + 2 + 32 * 32;
    // XChangeProperty(
    //     d,
    //     w,
    //     net_wm_icon,
    //     cardinal,
    //     32,
    //     PropModeReplace,
    //     (const unsigned char*) p,
    //     length
    // );
    // XMapWindow(d, w);
    // while(1)
    // XNextEvent(d, &e);
  """.}

  echo hexPrint(cast[ptr uint8](p), 16)

  XChangeProperty(
    d,
    w,
    net_wm_icon,
    cardinal,
    32,
    pmReplace,
    p,
    length.cint
  )

  XMapWindow(d, w)
  while true:
    echo "start"
    var e: XEvent
    XNextEvent(d, e.addr)
    echo "here"

main()
